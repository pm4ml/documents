<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="719px" preserveAspectRatio="none" style="width:968px;height:719px;" version="1.1" viewBox="0 0 968 719" width="968px" zoomAndPan="magnify"><defs><filter height="300%" id="f1628s726ldt3w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="101" x2="101" y1="54.1875" y2="662.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="388.5" x2="388.5" y1="54.1875" y2="662.625"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="835" x2="835" y1="54.1875" y2="662.625"/><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="189" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="175" x="12" y="36.9141">Mojaloop Switch</text><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="189" x="5" y="661.625"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="175" x="12" y="693.5391">Mojaloop Switch</text><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="210" x="281.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="196" x="288.5" y="36.9141">Payment Manager</text><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="210" x="281.5" y="661.625"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="196" x="288.5" y="693.5391">Payment Manager</text><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="237" x="715" y="5"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="223" x="722" y="36.9141">DFSP Core Backend</text><rect fill="#F8F8F8" filter="url(#f1628s726ldt3w)" height="44.1875" style="stroke:#383838;stroke-width:1.5;" width="237" x="715" y="661.625"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="223" x="722" y="693.5391">DFSP Core Backend</text><rect fill="#EEEEEE" filter="url(#f1628s726ldt3w)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="961" x="0" y="92.2813"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961" y1="92.2813" y2="92.2813"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961" y1="95.2813" y2="95.2813"/><rect fill="#EEEEEE" filter="url(#f1628s726ldt3w)" height="38.1875" style="stroke:#000000;stroke-width:2.0;" width="186" x="387.5" y="74.1875"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="393.5" y="103.1016">receive money</text><polygon fill="#383838" points="376.5,154.5625,386.5,158.5625,376.5,162.5625,380.5,158.5625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="101.5" x2="382.5" y1="158.5625" y2="158.5625"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="108.5" y="151.2891">1</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="246" x="125.5" y="151.2891">GET /parties/{type}/{id}</text><polygon fill="#383838" points="823.5,198.75,833.5,202.75,823.5,206.75,827.5,202.75" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="388.5" x2="829.5" y1="202.75" y2="202.75"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="395.5" y="195.4766">2</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="406" x="412.5" y="195.4766">GET /parties/{idType}/{idValue} (sync)</text><polygon fill="#383838" points="399.5,242.9375,389.5,246.9375,399.5,250.9375,395.5,246.9375" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="393.5" x2="834.5" y1="246.9375" y2="246.9375"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="405.5" y="239.6641">3</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="247" x="422.5" y="239.6641">HTTP 200 result (sync)</text><polygon fill="#383838" points="112.5,287.125,102.5,291.125,112.5,295.125,108.5,291.125" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="106.5" x2="387.5" y1="291.125" y2="291.125"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="118.5" y="283.8516">4</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="244" x="135.5" y="283.8516">PUT /parties/{type}/{id}</text><polygon fill="#383838" points="376.5,331.3125,386.5,335.3125,376.5,339.3125,380.5,335.3125" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="101.5" x2="382.5" y1="335.3125" y2="335.3125"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="108.5" y="328.0391">5</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="152" x="125.5" y="328.0391">POST /quotes</text><polygon fill="#383838" points="823.5,375.5,833.5,379.5,823.5,383.5,827.5,379.5" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="388.5" x2="829.5" y1="379.5" y2="379.5"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="395.5" y="372.2266">6</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="306" x="412.5" y="372.2266">POST /quoterequests (sync)</text><polygon fill="#383838" points="399.5,419.6875,389.5,423.6875,399.5,427.6875,395.5,423.6875" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="393.5" x2="834.5" y1="423.6875" y2="423.6875"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="405.5" y="416.4141">7</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="248" x="422.5" y="416.4141">HTTP 200 quote (sync)</text><polygon fill="#383838" points="112.5,463.875,102.5,467.875,112.5,471.875,108.5,467.875" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="106.5" x2="387.5" y1="467.875" y2="467.875"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="118.5" y="460.6016">8</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="176" x="135.5" y="460.6016">PUT /quotes/{id}</text><polygon fill="#383838" points="376.5,508.0625,386.5,512.0625,376.5,516.0625,380.5,512.0625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="101.5" x2="382.5" y1="512.0625" y2="512.0625"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="108.5" y="504.7891">9</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="173" x="125.5" y="504.7891">POST /transfers</text><polygon fill="#383838" points="823.5,552.25,833.5,556.25,823.5,560.25,827.5,556.25" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="388.5" x2="829.5" y1="556.25" y2="556.25"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="395.5" y="548.9766">10</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="246" x="425.5" y="548.9766">POST /transfers (sync)</text><polygon fill="#383838" points="399.5,596.4375,389.5,600.4375,399.5,604.4375,395.5,600.4375" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="393.5" x2="834.5" y1="600.4375" y2="600.4375"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="405.5" y="593.1641">11</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="247" x="435.5" y="593.1641">HTTP 200 result (sync)</text><polygon fill="#383838" points="112.5,640.625,102.5,644.625,112.5,648.625,108.5,644.625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="106.5" x2="387.5" y1="644.625" y2="644.625"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="118.5" y="637.3516">12</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="197" x="148.5" y="637.3516">PUT /transfers/{id}</text><!--MD5=[bdeb5ceb4a1ea8eac58e45807a05af01]
@startuml
autonumber
skinparam activityFontSize 4
skinparam activityDiamondFontSize 30
skinparam activityArrowFontSize 24
skinparam defaultFontSize 24
skinparam noteFontSize 24
skinparam monochrome true

participant "Mojaloop Switch" as sw

participant "Payment Manager" as sib
  
participant "DFSP Core Backend" as backend


== receive money ==

    sw -> sib: GET /parties/{type}/{id}
    sib -> backend: GET /parties/{idType}/{idValue} (sync)
    backend -> sib: HTTP 200 result (sync)
    sib -> sw: PUT /parties/{type}/{id}
    sw -> sib: POST /quotes
    sib -> backend: POST /quoterequests (sync)
    backend -> sib: HTTP 200 quote (sync)
    sib -> sw: PUT /quotes/{id}
    sw -> sib: POST /transfers
    sib -> backend: POST /transfers (sync)
    backend -> sib: HTTP 200 result (sync)
    sib -> sw: PUT /transfers/{id}

@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: en
Country: US
--></g></svg>